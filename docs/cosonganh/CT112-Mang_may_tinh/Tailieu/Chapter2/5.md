# Bài 5: Dịch vụ mạng

## 1.Các loại dịch vụ

Hầu hết các tầng mạng đều cung cấp một hoặc cả hai kiểu dịch vụ: Định hướng nối kết và Không nối kết

- Dịch vụ định hướng nối kết (Connection-oriented): Đây là dịch vụ vận hành theo mô hình của hệ thống điện thoại. Đầu tiên bên gọi phải thiết lập một nối kết, kế đến thực hiện nhiều cuộc trao đổi thông tin và cuối cùng thì giải phóng nối kết.

- Dịch vụ không nối kết (Connectionless): Đây là dịch vụ vận hành theo mô hình kiểu thư tín. Dữ liệu của bạn trước tiên được đặt vào trong một bao thư trên đó có ghi rõ địa chỉ của người nhận và địa chỉ của người gởi. Sau đó sẽ gởi cả bao thư và nội dung đến người nhận.

Một số những dịch vụ thường được cung cấp ở mỗi tầng mạng cho cả hai loại có nối kết và không nối kết được liệt kê ở bảng dưới đây:

| Loại          | Dịch vụ                                                                       | Ví dụ                                                                  |
| ------------- | ----------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| Có nối kết    | - Luồng thông điệp tin cậy<br>- Luồng byte tin cậy<br>- Nối kết không tin cậy | - gửi tuần tự các trang<br>- Đăng nhập từ xa<br>- Âm thanh số          |
| Không nối kết | - Thư tín không tin cậy<br>- Thư tín có báo nhận<br>- Yêu cầu - trả lời       | - Mail theo kiểu bó<br>- Mail được đăng ký<br>- Truy vấn cơ sở dữ liệu |

Mỗi loại dịch vụ được cung cấp với chất lượng khác nhau. Các loại dịch vụ có nối kết thường đảm bảo thứ tự đến nơi của thông tin như thứ tự chúng đã được gởi đi, cũng như đảm bảo dữ liệu luôn đến nơi. Hai điều này thường không được đảm bảo trong các dịch vụ loại không nối kết.

## 2.Phép toán của dịch vụ

Một dịch vụ thường được mô tả bằng một tập hợp các hàm cơ bản (primitives) hay đôi khi còn gọi là các tác vụ (operations) sẵn có cho các khách hàng sử dụng. Một số các hàm cơ bản thường có cho một dịch vụ định hướng nối kết như sau:

| Hàm cơ bản  | Chức năng                                        |
| ----------- | ------------------------------------------------ |
| LISTEN      | Nghẽn để chờ một yêu cầu kết nối gửi đến         |
| CONNECT     | Yêu cầu thiết lập nối kết với bên muốn giao tiếp |
| RECIEVE     | Nghiẽn để chờ nhận các thông điệp gửi tới        |
| SEND        | Gửi thông điệp sang bên kia                      |
| DISCONECTED | Kết thúc một kết nối                             |

Quá trình trao đổi thông tin giữa Client, người có nhu cầu sử dụng dịch vụ và server, người cung cấp dịch vụ được thực hiện bằng cách sử dụng các hàm cơ sở trên được mô tả như kịch bản sau:

| Server     | Client     |
| ---------- | ---------- |
| LISTEN     | CONNECT    |
| RECIEVE    | SEND       |
| SEND       | RECIEVE    |
| DISCONNECT | DISCONNECT |

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/08-15-51-30-3-removebg-preview.png" title="" alt="3-removebg-preview.png" width="538">

## 3. So sánh dịch vụ và giao thức

Giao thức và dịch vụ là hai nền tảng rất quan trọng trong việc thiết kết và xây dựng một hệ thống mạng. Cần hiểu rõ ý nghĩa và phân biệt sự khác biệt giữa chúng.

- Dịch vụ: là một tập các phép toán mà một tầng cung cấp cho tầng phía trên của nó gọi sử dụng.

- Giao thức: là một tập các luật mô tả khuôn dạng dữ liệu, ý nghĩa của các gói tin và thứ tự các gói tin được sử dụng trong quá trình giao tiếp.

- Chú ý: Cùng một service có thể được thực hiện bởi các protocol khác nhau; mỗi protocol có thể được cài đặt theo một cách thức khác nhau ( sử dụng cấu trúc dữ liệu khác nhau, ngôn ngữ lập trình là khác nhau, vv...) 
  
  <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/08-16-09-13-235097581_391721658978489_7672026327921100956_n-removebg-preview.png" title="" alt="235097581_391721658978489_7672026327921100956_n-removebg-preview.png" width="481">
