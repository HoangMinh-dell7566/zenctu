# Th·ª±c h√†nh bu·ªïi 1

## 1.Chu·∫©n b·ªã 

### C√†i ƒë·∫∑t M√°y ·∫¢o Ubuntu

::: tip üí° T√†i nguy√™n

- B·ªô c√†i [Ubuntu](https://ubuntu.com/download/desktop) <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/31-14-04-54-icons8-ubuntu.png" width="25">

  > C·ª© ch·ªçn b·∫£n **LTS**

- Ph·∫ßn m·ªÅm c√†i m√°y ·∫£o [VirtualBox](https://www.virtualbox.org/wiki/Downloads) <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/31-14-06-15-Virtualbox_logo.png" width="30">

  > T·∫£i b·∫£n ƒë√∫ng v·ªõi h·ªá ƒëi·ªÅu h√†nh b·∫°n ƒëang x√†i
:::

::: details <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/12-16-19-36-icons8-movie_beginning.png" width="30"> <b>Tham kh·∫£o video sau</b> : 

<div class="videoZen">
  <iframe width="853" height="480" src="https://www.youtube.com/embed/S26CKNo4Tgs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
:::

::: tip üí° M·∫∏O 

Sau khi c√†i `Ubuntu` th√†nh c√¥ng b·∫°n m·ªü app `Terminal` v√† g√µ l·ªánh sau : 

```sh
sudo apt-get update
sudo apt-get upgrade
```

‚á® Gi√∫p b·∫°n c·∫≠p nh·∫≠t c√°c `package` m·ªõi nh·∫•t.
:::

### C√†i ƒë·∫∑t Docker

C√†i theo guide d∆∞·ªõi ƒë√¢y c·ªßa trang ch·ªß [Docker](https://docs.docker.com/engine/install/ubuntu/)

- B∆∞·ªõc 1: G·ª° c√†i ƒë·∫∑t b·∫£n c≈© (*C√†i l·∫ßn ƒë·∫ßu th√¨ kh√¥ng c·∫ßn*)

  ```sh
  sudo apt-get remove docker docker-engine docker.io containerd runc
  ```

- B∆∞·ªõc 2: C·∫≠p nh·∫≠t kho `apt` v√†  cho ph√©p s·ª≠ d·ª•ng th√¥ng qua `HTTPS`

  ```sh
  sudo apt-get update
  sudo apt-get install apt-transport-https ca-certificates curl gnupg lsb-release
  ```

- B∆∞·ªõc 3: Th√™m `GPG` key c·ªßa `Docker` : 

  ```sh
  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
  ```

- B∆∞·ªõc 4: Thi·∫øt l·∫≠p kho `Docker` v√†o m√°y: 

  ```sh
  echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
  ```

- B∆∞·ªõc 5: C√†i ƒë·∫∑t `Docker Engine`

  ```sh
  sudo apt-get update
  sudo apt-get install docker-ce docker-ce-cli containerd.io
  ```
  
- B∆∞·ªõc 6: Ki·ªÉm tra `Docker` ƒë√£ c√†i ƒë·∫∑t ch∆∞a 

  ```sh
  docker --version
  ```

  > N·∫øu hi·ªán th·∫ø n√†y th√¨ th√†nh c√¥ng (*c√≥ hi·ªán l√† ƒë∆∞·ª£c, ƒë·ª´ng quan t√¢m `version` m·∫•y*)
  >
  > <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/31-15-51-35-Screen%20Shot%202021-08-31%20at%2015.51.30.png">

### C√†i ƒë·∫∑t Kathara

C√†i ƒë·∫∑t theo [guide](https://github.com/KatharaFramework/Kathara/wiki/Linux) c·ªßa `Kathara`

X√°c ƒë·ªãnh `Ubuntu` thu·ªôc nh√°nh `Debian-based` n√™n ta ch·ªâ ƒë·ªçc ph·∫ßn ƒë√≥ : 

- B∆∞·ªõc 1: Th√™m public key c·ªßa `Kathara`

  ```sh
  sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 21805A48E6CBBA6B991ABE76646193862B759810
  ```

  > <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/31-14-23-46-Screen%20Shot%202021-08-31%20at%2014.23.38.png">

- B∆∞·ªõc 2: Th√™m `ppa` c·ªßa `Kathara` v√†o Ubuntu

  ```sh
  sudo add-apt-repository ppa:katharaframework/kathara
  ```
  
  Ti·∫øp t·ª•c nh·∫•n `ENTER` khi t·ªõi ƒë√¢y: 

  > <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/31-14-26-21-Screen%20Shot%202021-08-31%20at%2014.25.38.png">

  ::: danger üö® CH√ö √ù
  Ph√°t hi·ªán ra `ppa` c·ªßa `Kathara` kh√¥ng b·∫Øt ƒë∆∞·ª£c, hi·ªán l·ªói `Error 404`
  
  <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/31-14-27-45-Screen%20Shot%202021-08-31%20at%2014.27.20.png">

  T·ª©c l√† phi√™n b·∫£n `Ubuntu` c·ªßa b·∫°n kh√¥ng ƒë∆∞·ª£c `Kathara` h·ªó tr·ª£
  :::

  ::: tip ü§î GI·∫¢I QUY·∫æT

  C√†i l·∫°i `Ubuntu` b·∫£n `LTS` ƒë·ªÉ `Kathara` h·ªó tr·ª£, ho·∫∑c b·∫°n c√≥ th·ªÉ ƒë·ª£i ƒë·∫øn khi `Kathara` ra b·∫£n h·ªó tr·ª£ phi√™n b·∫£n

  > Hi·ªán t·∫°i 2021: `Kathara` ch·ªâ h·ªó tr·ª£ **Ubuntu 20.04** tr·ªü xu·ªëng
  :::

- B∆∞·ªõc 3: C√†i ƒë·∫∑t `Kathara`

  ```sh
  sudo apt install kathara
  ```

  > Ki·ªÉm tra b·∫±ng l·ªánh `kathara --version`
  >
  > <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/31-15-58-02-Screen%20Shot%202021-08-31%20at%2015.57.56.png">

### S·ª≠ d·ª•ng Kathara c∆° b·∫£n

Tr∆∞·ªõc h·∫øt b·∫°n ph·∫£i ƒë·∫£m b·∫£m m√¨nh ƒë√£ c√†i `python`, `docker`, `xterm`, `gcc`

::: tip üí° M·∫∏O 

S·ª≠ d·ª•ng l·ªánh `<package> --version` ho·∫∑c `<package> -v` ƒë·ªÉ ki·ªÉm tra, n·∫øu kh√¥ng t√¨m th·∫•y h√£y g√µ : 

```sh
sudo apt-get install <package>
```

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/02-21-21-36-Screen%20Shot%202021-09-02%20at%2021.21.28.png">
:::

Sau ƒë√≥, b·∫°n h√£y th·ª±c hi·ªán c√°c b∆∞·ªõc sau : 

- **B∆∞·ªõc 1:** C√†i ƒë·∫∑c **image** c·ªßa `Kathara` tr√™n `Docker`

  ```sh
  # t√¨m ki·∫øm image kathara tr√™n docker
  $ sudo docker search kathara
  ```

  > <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/02-21-24-10-Screen%20Shot%202021-09-02%20at%2021.24.05.png" width="550">


  ```sh
  # pull image kathara v·ªÅ docker
  $ sudo docker pull kathara/base
  ```

- **B∆∞·ªõc 2:** Ki·ªÉm tra m√¥i tr∆∞·ªùng h·ªá th·ªëng `Kathara`

  <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/02-21-27-29-Screen%20Shot%202021-09-02%20at%2021.27.22.png" width="550">

- **B∆∞·ªõc 3:** T·∫°o thi·∫øt b·ªã Kathara ƒë·∫ßu ti√™n

  ```sh
  kathara vstart -n <name>
  ```

  <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/02-21-29-48-Screen%20Shot%202021-09-02%20at%2021.29.43.png" width="550">

### Guide Kathara

ƒê∆∞·ª£c l·∫•y t·ª´ ngu·ªìn ch√≠nh th·ª©c c·ªßa [Guide Kathara](https://www.kathara.org/man-pages/kathara.1.html)

`Kathara` l√† c√¥ng c·ª• m√¥ ph·ªèng m·∫°ng

N√≥ tri·ªÉn khai t·ª´ d·ª± √°n [Netkit](https://github.com/maxonthegit/netkit-core) s·ª≠ d·ª•ng `Python` nh∆∞ng nhanh h∆°n g·∫•p `10` l·∫ßn v√† nh·∫π h∆°n `100` l·∫ßn

Trong m√¥i tr∆∞·ªùng `Kathara`, m·ªói thi·∫øt b·ªã m·∫°ng ƒë∆∞·ª£c th·ª±c hi·ªán b·ªüi m·ªôt `container` v√† m·ªói li√™n k·∫øt ƒë∆∞·ª£c m√¥ ph·ªèng b·∫±ng c√°ch s·ª≠ d·ª•ng m·∫°ng ·∫£o

M·ªói thi·∫øt b·ªã ƒë·ªÅu c√≥ th·ªÉ c·∫•u h√¨nh tu·ª≥ √Ω

::: tip üí° FACT

`Kathara` cung c·∫•p 2 giao di·ªán ƒë·ªÉ kh·ªüi ch·∫°y v√† c·∫•u h√¨nh thi·∫øt b·ªã.

- T·∫≠p l·ªánh c√≥ ti·ªÅn t·ªë `v` ( `vstart`, `vclean`, `vconfig` ) : cho ph√©p kh·ªüi ƒë·ªông v√† qu·∫£n l√≠ c√°c thi·∫øt b·ªã **ƒë∆°n l·∫ª** v√† ki·ªÉm so√°t ch√∫ng
  
- T·∫≠p l·ªánh c√≥ ti·ªÅn t·ªë `l` (`lstart`, `lclean`, `linfo`,`lrestart`, `ltest`) : thi·∫øt l·∫≠p m·ªôt ph√≤ng **lab** ƒë∆∞·ª£c c·∫•u h√¨nh m·ªôt s·ªë thi·∫øt b·ªã
:::

| <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/02-21-47-53-KatharaFramework.png" width="30">L·ªánh : kathara.. | ![icons8-handle_with_care.png](https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-12-30-07-icons8-handle_with_care.png)M√¥ t·∫£ |
| ------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| vstart                                                                                                                                      | T·∫°o m·ªôt thi·∫øt b·ªã `Kathara`¬†m·ªõi                                                                                                                 |
| vclean                                                                                                                                      | D·ª´ng thi·∫øt b·ªã ƒë∆°n `Kathara`                                                                                                                    |
| vconfig                                                                                                                                     | G·∫Øn giao di·ªán m·∫°ng v√†o thi·∫øt b·ªã `Kathara`¬†ƒëang ch·∫°y                                                                                            |
| lstart                                                                                                                                      | Kh·ªüi ƒë·ªông `Kathara Lab`                                                                                                                        |
| lclean                                                                                                                                      | D·ª´ng `Kathara Lab`                                                                                                                             |
| lrestart                                                                                                                                    | Kh·ªüi ƒë·ªông l·∫°i `Kathara Lab`                                                                                                                    |
| ltest                                                                                                                                       | Ki·ªÉm th·ª≠ `Kathara Lab`                                                                                                                         |
| lconfig                                                                                                                                     | G·∫Øn giao di·ªán m·∫°ng v√†o thi·∫øt b·ªã `Kathara` ƒëang ch·∫°y trong `Kathara Lab`                                                                        |
| connect                                                                                                                                     | K·∫øt n·ªëi thi·∫øt b·ªã `Kathara`                                                                                                                     |
| exec                                                                                                                                        | Th·ª±c thi l·ªánh tr√™n thi·∫øt b·ªã `Kathara`                                                                                                          |
| wipe                                                                                                                                        | Xo√° t·∫•t c·∫£ thi·∫øt b·ªã `Kathara`¬†v√† t√™n mi·ªÅn xung ƒë·ªôt, xo√° lu√¥n thi·∫øt l·∫≠p                                                                         |
| list                                                                                                                                        | Hi·ªÉn th·ªã t·∫•t c·∫£ thi·∫øt b·ªã `Kathara`¬†ƒëang ch·∫°y                                                                                                   |
| setting                                                                                                                                     | Hi·ªÉn th·ªã v√† ch·ªânh s·ª≠a thi·∫øt l·∫≠p                                                                                                                |
| check                                                                                                                                       | Ki·ªÉm tra m√¥i tr∆∞·ªùng h·ªá th·ªëng                                                                                                                   |

::: tip üí° M·∫∏O

Khi th·ª±c hi·ªán l·ªánh g√¨ g√µ th√™m h·∫≠u t·ªë `--help` *ho·∫∑c* `-h` ƒë·ªÉ ƒë·ªçc c√°ch d√πng c·ªßa n√≥

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/02-21-51-45-Screen%20Shot%202021-09-02%20at%2021.51.39.png">
:::
